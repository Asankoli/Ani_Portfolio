import { useEffect } from "react";
import { motion } from "framer-motion";

/**
 * Represents the Loader component.
 * Displays an animated loader with SVG icons.
 *
 * @component
 * @param {function} setShowLoader - A function to set whether the loader should be displayed.
 */

const Loader = ({ setShowLoader }) => {
  useEffect(() => {
    // Automatically hide the loader after a delay
    setTimeout(() => {
      setShowLoader(false);
    }, 2800);
  }, [setShowLoader]);

  // Animation variants for the SVG icons
  const iconVariant1 = {
    hidden: {
      pathLength: 0,
      fill: "rgb(19, 26, 34)",
    },
    visible: {
      pathLength: 5,
      fill: "rgb(243, 243, 243)",
      stroke: "rgb(243, 243, 243)",
      strokeWidth: 3,
      scale: 0,
      transition: {
        default: { duration: 3, ease: "easeIn" },
        fill: { duration: 3, ease: [1, 0, 0.8, 1] },
        stroke: { duration: 3, ease: [1, 0, 0.8, 1] },
        scale: { duration: 3, ease: [1, 1, 0.5, 0] },
      },
    },
  };

  const iconVariant2 = {
    hidden: {
      pathLength: 0,
      fill: "rgb(19, 26, 34)",
    },
    visible: {
      pathLength: 5,
      fill: "rgb(72, 163, 198)",
      stroke: "rgb(72, 163, 198)",
      scale: 0,
      strokeWidth: 3,
      transition: {
        default: { duration: 3, ease: "easeIn" },
        fill: { duration: 3, ease: [1, 0, 0.8, 1] },
        stroke: { duration: 3, ease: [1, 0, 0.8, 1] },
        scale: { duration: 3, ease: [1, 1, 0.5, 0] },
      },
    },
  };

  return (
    <div style={{ display: "flex", justifyContent: "center", alignItems: "center", height: "100vh" }}>
      {/* Animated SVG */}
      <motion.svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 1 920.55 921.26"
        style={{ width: "30vw", height: "30vw" }}
      >
        {/* First SVG path */}
        <motion.path
          d="m 596.19771,793.98216 c -33.66,13.67097 -69.92,22.39246 -107.83,25.10669 v 106.07479 c 37.32,-2.00574 73.46,-8.60174 107.83,-18.9797 39.8,-12.02448 77.36,-29.3477 111.85,-51.03166 123.9001,-78.02434 207.87,-213.20732 214.96,-368.42778 0.35,-7.07498 0.47,-14.13998 0.47,-21.21495 0,-29.46743 -2.83,-58.33615 -8.15,-86.38659 -106.1497,-1.73897 -197.0003,0 -319.13,0 L 595.2218,129.54185 c 42.95628,17.03214 79.46339,43.10548 99.54274,60.52968 24.32355,21.10717 48.12871,49.62111 80.02493,90.61133 l 39.46343,-28.64707 39.46343,-28.64708 C 840.86908,202.30922 819.39176,169.12585 800.31774,148.46617 781.24373,127.80648 759.69347,107.95956 736.9412,90.131111 714.18894,72.302664 690.23468,56.492694 666.35268,43.906917 642.47068,31.32114 618.66094,21.959556 596.19771,17.027882 549.14087,3.7321607 525.68771,7.9809546 488.36771,5.8554666 V 486.7245 h 328.46 c -5.43,92.04458 -46.18,174.66916 -108.78,234.66178 -32.13,30.76469 -70.04,55.51214 -111.85,72.60586 v 0 z"
          variants={iconVariant2}
          initial="hidden"
          animate="visible"
        />

        {/* Second SVG path */}
        <motion.path
          d="m 119.15719,483.82659 c 1.63281,27.43598 5.45637,52.97858 13.16521,78.33563 30.7364,100.63762 106.47891,181.91096 204.07151,221.21536 33.3093,13.37149 69.1915,21.90193 106.7066,24.55671 v 103.75112 c -36.9312,-1.96181 -72.5858,-8.41331 -106.7066,-18.56394 -123.5394,-37.00099 -224.99127,-124.2671 -279.814096,-237.70036 -18.23798,-37.81108 -31.2114,-78.50144 -38.21763,-121.15359 -2.69166,-16.82662 -4.56198,-34.0046 -5.37343,-51.41684 -0.2375,-6.91999 -0.4651,-13.83022 -0.4651,-20.75022 0,-28.82192 2.80051,-57.05824 8.06508,-84.49421 10.28176,-53.36888 30.03381,-103.39976 57.62334,-148.36508 19.04945,-31.00822 41.730656,-59.47877 67.558736,-85.07982 80.0401,-82.145264 200.343,-132.014105 296.6271,-131.645827 h 0.4651 l 0.2375,0.117123 v 665.500484 15.33331 h -106.7066 c 10.5919,-85.18303 18.17543,-140.95418 16.73942,-216.51663 -34.61699,-0.61257 -218.82666,3.96836 -233.97614,6.87678 z m 232.92032,-78.6098 c 0,0 -5.68166,-33.48822 -8.15765,-50.24159 -4.95199,-33.50675 -12.08621,-60.6218 -20.81515,-81.88331 -17.45787,-42.52302 -41.2946,-61.6319 -66.81,-61.6319 -64.98503,12.902 -95.73452,74.95625 -116.3477,129.74452 -4.30968,11.51036 -8.31156,23.66154 -11.94908,36.40174 -2.45416,9.56501 -6.86163,30.74851 -6.86163,30.74851 0,0 198.74066,1.32935 230.94121,-3.13797 z"
          variants={iconVariant1}
          initial="hidden"
          animate="visible"
        />
      </motion.svg>{" "}
    </div>
  );
};

export default Loader;
